<div class="sticky top-0 z-40 flex flex-shrink-0 w-full h-16 px-3 mb-4 navbar bg-neutral text-neutral-content md:justify-between">
  <div class="items-center flex-1 flex-shrink-0 hidden md:flex">
    <LiveRedirect to={path(:home)}>
      <div class="flex items-center space-x-2">
        <div class="w-10 h-10 bg-center bg-no-repeat bg-contain" style={"background-image: url(" <> Bonfire.Common.Config.get([:ui, :theme, :instance_logo], '')  <> ")"}></div>
        <div class="text-base font-medium tracking-wide text-neutral-content">{Bonfire.Common.Config.get([:ui, :theme, :instance_name], '')}</div>
      </div>
    </LiveRedirect>
    <div class="ml-6 tabs tabs-boxed">
      {#for {name, route} <- Bonfire.Common.Config.get([:ui, :app_menu_extension_paths], [])}
        <LiveRedirect to={path(route)} class={"tab"}>{name}</LiveRedirect>
      {/for}
    </div>
  </div>



  <div class="items-center hidden mr-2 md:flex">
    <Bonfire.UI.Social.SearchLive class="ml-10" />
  </div>

  <div title="Change Theme" class="dropdown dropdown-end"><div tabindex="0" class="m-1 normal-case btn-ghost btn"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-6 h-6 stroke-current md:mr-2"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg> <span class="hidden md:inline">
          Change Theme
        </span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792" class="inline-block w-4 h-4 ml-1 fill-current"><path d="M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"></path></svg></div> <div class="mt-16 overflow-y-auto shadow-2xl top-px dropdown-content h-96 w-52 rounded-b-box bg-base-200 text-base-content"><ul class="p-4 menu compact"><li><a tabindex="0" data-set-theme="light" data-act-class="active" class="active">ğŸŒ â€‡light</a></li><li><a tabindex="0" data-set-theme="dark" data-act-class="active" class="">ğŸŒš â€‡dark</a></li><li><a tabindex="0" data-set-theme="cupcake" data-act-class="active" class="">ğŸ§ â€‡cupcake</a></li><li><a tabindex="0" data-set-theme="bumblebee" data-act-class="active" class="">ğŸ â€‡bumblebee</a></li><li><a tabindex="0" data-set-theme="emerald" data-act-class="active">âœ³ï¸ â€‡Emerald</a></li><li><a tabindex="0" data-set-theme="corporate" data-act-class="active" class="">ğŸ¢ â€‡Corporate</a></li><li><a tabindex="0" data-set-theme="synthwave" data-act-class="active" class="">ğŸŒƒ â€‡synthwave</a></li><li><a tabindex="0" data-set-theme="retro" data-act-class="active" class="">ğŸ‘´ â€‡retro</a></li><li><a tabindex="0" data-set-theme="cyberpunk" data-act-class="active" class="">ğŸ¤– â€‡cyberpunk</a></li><li><a tabindex="0" data-set-theme="valentine" data-act-class="active">ğŸŒ¸ â€‡valentine</a></li><li><a tabindex="0" data-set-theme="halloween" data-act-class="active">ğŸƒ â€‡halloween</a></li><li><a tabindex="0" data-set-theme="garden" data-act-class="active">ğŸŒ· â€‡garden</a></li><li><a tabindex="0" data-set-theme="forest" data-act-class="active">ğŸŒ² â€‡forest</a></li><li><a tabindex="0" data-set-theme="aqua" data-act-class="active">ğŸŸ â€‡aqua</a></li><li><a tabindex="0" data-set-theme="lofi" data-act-class="active">ğŸ‘“ â€‡lofi</a></li><li><a tabindex="0" data-set-theme="pastel" data-act-class="active">ğŸ– â€‡pastel</a></li><li><a tabindex="0" data-set-theme="fantasy" data-act-class="active">ğŸ§š&zwj;â™€ï¸ â€‡fantasy</a></li><li><a tabindex="0" data-set-theme="wireframe" data-act-class="active">ğŸ“ â€‡Wireframe</a></li><li><a tabindex="0" data-set-theme="black" data-act-class="active">ğŸ´ â€‡black</a></li><li><a tabindex="0" data-set-theme="luxury" data-act-class="active">ğŸ’ â€‡luxury</a></li><li><a tabindex="0" data-set-theme="dracula" data-act-class="active">ğŸ§›&zwj;â™‚ï¸ â€‡dracula</a></li></ul></div></div>

  <div class="items-center hidden md:flex">
    <Bonfire.UI.Social.SidebarUserLive  current_user={current_user(assigns)} />
  </div>


  <!-- MOBILE -->
  <div class="grid w-full grid-flow-col grid-cols-6 gap-4 md:hidden">
    <div class="flex items-center place-content-center">
      <LiveRedirect to={path(:home)}>
        <div class="w-10 h-10 bg-center bg-no-repeat bg-contain" style={"background-image: url(" <> Bonfire.Common.Config.get([:ui, :theme, :instance_logo], '')  <> ")"}></div>
      </LiveRedirect>
    </div>
    <div class="flex items-center place-content-center">
    <LiveRedirect :if={current_user(assigns)} to={path(:notifications)} class="p-3 rounded-md hover:bg-gray-700">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-200" viewBox="0 0 20 20" fill="currentColor">
        <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
      </svg>    
    </LiveRedirect>
    </div>
    <div class="flex items-center place-content-center">
    <LiveRedirect to="/local" class="p-3 rounded-md hover:bg-gray-700">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-200" viewBox="0 0 20 20" fill="currentColor">
        <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
      </svg>
    </LiveRedirect>
    </div>
    <div class="flex items-center place-content-center">
    <LiveRedirect to="/federation" class="p-3 rounded-md hover:bg-gray-700">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-200" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z" clip-rule="evenodd" />
      </svg>    
    </LiveRedirect>
    </div>
    <div class="flex items-center place-content-center">
    <LiveRedirect to={"/search"} class="p-3 rounded-md hover:bg-gray-700">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
      </svg>   
    </LiveRedirect>
    </div>
    <div class="flex items-center place-content-center">
      <div class="p-3 rounded-md cursor-pointer hover:bg-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </div>
    </div>
  </div>
</div>
